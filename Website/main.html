<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Main page of website</title>
    <link rel="stylesheet" href="../Styles/styles.css">
    <link rel="stylesheet" href="../Styles/default-settings.css">
</head>
<body>
    <header>
        <h1 class="main-title main-page-title">BiblioCase</h1>
    </header>
    <nav>
        <ul class="main-menu">
            <li class="main-search-section"><a href="collections.html">Коллекции</a></li>
            <li class="main-search-section"><a href="create-case.html ">Создать кейс</a></li>
            <li class="main-search-section"><a href="login.html">Войти</a></li>
        </ul>
    </nav>
    <section class="main-section">
        <h1 class="main-section-text">Сохраняй и делись своими профессиональными кейсами</h1>
        <p class="main-section-subtext">Платформа для обмена опытом и знаниями</p>
        <form action="create-case.html" class="main-section-btn">
            <input type="submit" value="Создать первый кейс">
        </form>
        <div class="statistics-container">
            <div class="statistics">
                <h3 class="statistics-number" id="cases-count">0</h3>
                <p class="main-section-subtext">кейсов</p>
            </div>
            <div class="statistics">
                <h3 class="statistics-number" id="users-count">0</h3>
                <p class="main-section-subtext">авторов</p>
            </div>
            <div class="statistics">
                <h3 class="statistics-number" id="categories-count">0</h3>
                <p class="main-section-subtext">категорий</p>
            </div>
        </div>
    </section>
    <footer>
        <p class="main-section-subtext">&copy; 2025 BiblioCase. Все права защищены.</p>
    </footer>

    <script>
        const API_URL = 'http://localhost:5000/api';
        
        // Загрузка статистики
        async function loadStats() {
            try {
                const response = await fetch(`${API_URL}/stats`);
                const stats = await response.json();
                
                document.getElementById('cases-count').textContent = stats.cases || 0;
                document.getElementById('users-count').textContent = stats.users || 0;
                document.getElementById('categories-count').textContent = stats.categories || 0;
            } catch (error) {
                console.error('Ошибка загрузки статистики:', error);
            }
        }
        
        loadStats();
    </script>
</body>
</html>